---
sidebar_position: 1
---

# 9.1 Overview

## Overview
The Event Store API is REST-based. It has predictable resource-oriented endpoints, uses standard HTTP response codes, authentication, and verbs.

## Base URL
<p>The APIs works over HTTPS, is accessed via Licence Key. Support swagger for developers and available from the links below by API type:</br>
Casper Network Event Store (Parser) API:</br>
  Testnet: <code>https://api.testnet.casper.mystra.io/swagger</code></br>
  Mainet:  <code>https://api.casper.mystra.io/swagger</code></p>

## Response
All data from the server is sent as JSON. Successful API responses with code 200 contain a data property, which contains the response data:

```
{
  "data": <ResponseData>
}
```

## Endpoint execution cost
Each license is assigned to a number of "compound units", specified according to the purchased package. Each endpoint returns information about the query execution time (in milliseconds - rounded value) and the query cost (in compound units - rounded value). The cost of each query is deducted from the assigned pool of compound units to the license key.

```
{
  "endpoint": {
    "execution_time": 2,
    "execution_cost": 133
  }
}
```

## Pagination
Requests that potentially may return an unlimited number of items are paginated. In addition to the endpoint-specific parameters, they accept the following pagination parameters:
 <table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Default</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>page_number</td>
    <td>int</td>
    <td>1</td>
    <td>Requested page number</td>
  </tr>
  <tr>
    <td>page_size</td>
    <td>int</td>
    <td>10</td>
    <td>Number of items per page</td>
  </tr>
</table>

The response contains pagination information and has the following structure:
```
{
  "pagination": {
    "page_number": <int>,
    "page_size": <int>,
    "total_rows": <int>,
    "total_pages": <int>,
    "previous_page": <int>,
    "next_page": <int>
  },
  "data": { ... },
}
```

### Example
```
GET /offchain/blocks?page_number=1&page_size=2

Link: https://api.testnet.casper.mystra.io/offchain/blocks?page_number=1&page_size=2
```

```
{
  "endpoint": {
    "execution_time": 2,
    "execution_cost": 133
  },
  "pagination": {
    "page_number": 1,
    "page_size": 2,
    "total_rows": 2881,
    "total_pages": 1441,
    "previous_page": null,
    "next_page": 2
  },
  "data": [
    {
      "hash": "f522fb5ad98582171b53c6c555c9ebb413004a22d63dfcc6b8d54567d5cc7dee",
      "era": 10830,
      "timestamp": "2023-10-02T21:25:10.528",
      "height": 2092803,
      "deploys_count": 0,
      "validator": "017d96b9a63abcb61c870a4f55187a0a7ac24096bdb5fc585c12a686a4d892009e",
      "era_end": false
    },
    {
      "hash": "eae3d5da116dc95542f208d263fc146f06ed029e8abbe84a3f3cf0856dbe887b",
      "era": 10830,
      "timestamp": "2023-10-02T21:24:37.76",
      "height": 2092802,
      "deploys_count": 1,
      "validator": "0106ca7c39cd272dbf21a86eeb3b36b7c26e2e9b94af64292419f7862936bca2ca",
      "era_end": false
    }
  ]
}
```

## Sorting
Some paginated requests provide a possibility to sort the results. It can be done using the following query parameters:

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>order_by</td>
    <td>string</td>
    <td>Field the results should be sorted by</td>
  </tr>
  <tr>
    <td>order_direction</td>
    <td>string</td>
    <td>Order direction: ASC or DESC</td>
  </tr>
</table>

### Example
```
GET /blocks?page=1&limit=1&order_by=blockHeight&order_direction=ASC
```

The response contains pagination information and has the following structure:
```
{
  "data": [
    {
      "blockHash": "975ea4de188c2a67946188cea0ec8a93d2d38286d7642526d50c45839a291210",
      "parentHash": "0000000000000000000000000000000000000000000000000000000000000000",
      "timestamp": "2021-04-08T17:00:56.000Z",
      "eraId": 0,
      "proposer": "0106ca7c39cd272dbf21a86eeb3b36b7c26e2e9b94af64292419f7862936bca2ca",
      "state": "e88b7c061760134ba37ad312c1e2d6373121748e9c61bcea19cc57510829addf",
      "deployCount": 0,
      "transferCount": 0,
      "blockHeight": 0
    }
  ],
  "pageCount": 86099,
  "itemCount": 86099,
  "pages": [
    {
      "number": 1,
      "url": "/blocks?page=1&limit=1&order_by=blockHeight&order_direction=ASC"
    },
    {
      "number": 2,
      "url": "/blocks?page=2&limit=1&order_by=blockHeight&order_direction=ASC"
    },
    {
      "number": 3,
      "url": "/blocks?page=3&limit=1&order_by=blockHeight&order_direction=ASC"
    }
  ]
}
```

## Including optional fields
Certain objects provide possibility of including the nested objects by including their names in the fields query param.

### Example
```
GET /extended-deploys?fields=contract_package,entry_point
```

```
{
  "data": [
    {
      "deploy_hash": "cf2a0d11f8b4e263a2e1dc50c1e0cbf0cb6b080deb9d27af7a2a9351742b6fa0",
      "block_hash": "f5a5a96e68c9c9cd8a4b66242d5106b83409330c961f9a4873484f0e03ba1342",
      "caller_public_key": "020222f81070130766028a76432e3272573ac5fc48df45cca9a2d088b0dcd675bb37",
      "execution_type_id": 2,
      "contract_hash": "ccb576d6ce6dec84a551e48f0d0b7af89ddba44c7390b690036257a04a3ae9ea",
      "contract_package_hash": "86f2d45f024d7bb7fb5266b2390d7c253b588a0a16ebd946a60cb4314600af74",
      "cost": "2500000000",
      "payment_amount": "2500000000",
      "error_message": null,
      "timestamp": "2022-08-09T15:26:30.000Z",
      "status": "executed",
      "args": {
        "amount": {
          "parsed": "851000000000",
          "cl_type": "U512"
        },
        "delegator": {
          "parsed": "020222f81070130766028a76432e3272573ac5fc48df45cca9a2d088b0dcd675bb37",
          "cl_type": "PublicKey"
        },
        "validator": {
          "parsed": "0169e1552a97843ff2ef4318e8a028a9f4ed0c16b3d96f6a6eee21e6ca0d4022bc",
          "cl_type": "PublicKey"
        }
      },
      "amount": "851000000000",
      "entry_point": {
        "id": "538",
        "contract_hash": "ccb576d6ce6dec84a551e48f0d0b7af89ddba44c7390b690036257a04a3ae9ea",
        "contract_package_hash": "86f2d45f024d7bb7fb5266b2390d7c253b588a0a16ebd946a60cb4314600af74",
        "name": "delegate",
        "action_type_id": null
      },
      "contract_package": {
        "contract_package_hash": "86f2d45f024d7bb7fb5266b2390d7c253b588a0a16ebd946a60cb4314600af74",
        "owner_public_key": null,
        "contract_type_id": 1,
        "contract_name": "Auction",
        "contract_description": "Built-in contract that allows interaction with the validator auction, and provides possibility to bid and delegate funds to Casper network participants",
        "timestamp": "2021-03-31T15:00:40.000Z"
      }
    },
    ...
  ],
  "pageCount": 64794,
  "itemCount": 647936,
  "pages": [
    {
      "number": 1,
      "url": "/extended-deploys?fields%5B0%5D=contract_package&fields%5B1%5D=entry_point&page=1&limit=10"
    },
    {
      "number": 2,
      "url": "/extended-deploys?fields%5B0%5D=contract_package&fields%5B1%5D=entry_point&page=2&limit=10"
    },
    {
      "number": 3,
      "url": "/extended-deploys?fields%5B0%5D=contract_package&fields%5B1%5D=entry_point&page=3&limit=10"
    }
  ]
}
```

## Including rate in other currencies
It is possible to include CSPR to fiat currency rates to paginated response results by adding with_amounts_in_currency_id query param.

<table>
  <tr>
    <th>Parameter</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>with_amounts_in_currency_id</td>
    <td>int</td>
    <td>Modifies paginated results by adding token amounts in the requested currency</td>
  </tr>
</table>

The following currencies are available:
<table>
  <tr>
    <th>ID</th>
    <th>Code</th>
  </tr>
  <tr>
    <td>1</td>
    <td>USD</td>
  </tr>
  <tr>
    <td>2</td>
    <td>EUR</td>
  </tr>
  <tr>
    <td>3</td>
    <td>JPY</td>
  </tr>
  <tr>
    <td>4</td>
    <td>GBP</td>
  </tr>
  <tr>
    <td>5</td>
    <td>CAD</td>
  </tr>
  <tr>
    <td>6</td>
    <td>CHF</td>
  </tr>
  <tr>
    <td>7</td>
    <td>CNY</td>
  </tr>
  <tr>
    <td>8</td>
    <td>HKD</td>
  </tr>
</table>

When the with_amounts_in_currency_id response modifier is used, the result items will be extended with the rate property that provides the CSPR rate in the request currency at the moment of the creation of the requested entity

### Example
```
GET /validators/020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed/rewards?with_amounts_in_currency_id=1
```

```
{
"data": [
{
"eraId": 6751,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "10929538087",
"timestamp": "2022-10-16T09:33:19.000Z",
"currency_amount": 0.46639508583274225,
"rate": 0.0426729,
"current_currency_amount": 0.4648988320686319
},
{
"eraId": 6750,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "10983117292",
"timestamp": "2022-10-16T07:33:10.000Z",
"currency_amount": 0.4599367079018964,
"rate": 0.0418767,
"current_currency_amount": 0.46717787713251197
},
{
"eraId": 6749,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "11000567055",
"timestamp": "2022-10-16T05:33:01.000Z",
"currency_amount": 0.4645968489441645,
"rate": 0.0422339,
"current_currency_amount": 0.46792012025147994
},
{
"eraId": 6748,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "11044441314",
"timestamp": "2022-10-16T03:32:52.000Z",
"currency_amount": 0.4593283742520774,
"rate": 0.0415891,
"current_currency_amount": 0.469786355732304
},
{
"eraId": 6747,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "10958221897",
"timestamp": "2022-10-16T01:32:43.000Z",
"currency_amount": 0.43450116897137786,
"rate": 0.0396507,
"current_currency_amount": 0.46611892661079196
},
{
"eraId": 6746,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "11048642873",
"timestamp": "2022-10-15T23:32:34.000Z",
"currency_amount": 0.4351121293030495,
"rate": 0.0393815,
"current_currency_amount": 0.469965073245928
},
{
"eraId": 6745,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "11053041194",
"timestamp": "2022-10-15T21:32:25.000Z",
"currency_amount": 0.4448031155536645,
"rate": 0.0402426,
"current_currency_amount": 0.470152160227984
},
{
"eraId": 6744,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "11043963204",
"timestamp": "2022-10-15T19:32:16.000Z",
"currency_amount": 0.4417684677268836,
"rate": 0.0400009,
"current_currency_amount": 0.469766018845344
},
{
"eraId": 6743,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "11042620723",
"timestamp": "2022-10-15T17:32:07.000Z",
"currency_amount": 0.448816276665612,
"rate": 0.040644,
"current_currency_amount": 0.469708915073528
},
{
"eraId": 6742,
"publicKey": "020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed",
"amount": "11041411818",
"timestamp": "2022-10-15T15:31:58.000Z",
"currency_amount": 0.4097865416485248,
"rate": 0.0371136,
"current_currency_amount": 0.46965749309044796
}
],
"pageCount": 237,
"itemCount": 2370,
"pages": [
{
"number": 1,
"url": "/validators/020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed/rewards?with_amounts_in_currency_id=1&page=1&limit=10"
},
{
"number": 2,
"url": "/validators/020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed/rewards?with_amounts_in_currency_id=1&page=2&limit=10"
},
{
"number": 3,
"url": "/validators/020377bc3ad54b5505971e001044ea822a3f6f307f8dc93fa45a05b7463c0a053bed/rewards?with_amounts_in_currency_id=1&page=3&limit=10"
}
]
}
```
